const fs = require('fs'),
	request = require('request'),
	imageFileNames = require('./imageFileNames');

let printImages = ( imgArr, printPath ) => {
	let newImageArray = imageFileNames(imgArr);

	let download = (uri, filename, callback) => {
		request.head(uri, (err, res, body) => {
			request(uri).pipe(fs.createWriteStream(filename)).on('close', callback);
		});
	}

	for ( let t = 0; t < newImageArray.length; t++ ) {
		let file = printPath + newImageArray[t].imgName;

		download(newImageArray[t].imgPath, file, () => {
			console.log('download complete');
		});
	}

	//console.log(newImageArray);
};

module.exports = printImages;
