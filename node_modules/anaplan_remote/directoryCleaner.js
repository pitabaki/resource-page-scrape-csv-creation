let directoryCleaner = ( path, rootPath ) => {

	fs.readdir( printPath, (err, files) => {

		if ( err ) {
			console.log(err);
		}

		let rootPath = printPath;

		if ( files.length > 0 ) {
			
			files.forEach( (filename) => {

				let filePath = path.join(printPath, filename);
				if ( fs.lstatSync(filePath).isDirectory() ) {

					fs.readdir( filePath, (err, files) => {

						if ( files.length > 0 ) {

							directoryCleaner( filePath, rootPath );

						} else {

							fs.rmdir( filePath, (err) => {
								if ( err ) {
									console.log(err);
								}
								console.log(filePath + ' directory removed!');
							});

							if ( rootPath !== false ) {
								directoryCleaner( rootPath, rootPath );
							}

						}
					});

				} else {

					fs.unlinkSync( filePath, (err) => {
						if ( err ) {
							console.log(err);
						}
						console.log(filePath + ' file removed!');
					});

					directoryCleaner( rootPath, rootPath );

				}
			});
		}
		
	};

});
	
module.exports = directoryCleaner;